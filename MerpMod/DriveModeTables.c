/*
	Copyright (C) 2014 Scott T. Anderson & 2012-2013 Merrill A. Myers III merrillamyersiii@gmail.com
	
    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.
*/

#include "EcuHacks.h"

//!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
//!! ALS constants
//!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

unsigned char DefaultDriveMode SPEEDDENSITYDATA = 0x01;
float DefaultALSTargetIdleSpeed SPEEDDENSITYDATA = 2000.0f;

///////////////
//Requested Torque Table 1
///////////////
ThreeDTable ReqTorqTable1 __attribute__ ((section ("RomHole_SpeedDensityTables"),aligned(4)));
float ReqTorqCols1[15] __attribute__ ((section ("RomHole_SpeedDensityTables"),aligned(4))) = 
{0,2,3,4,5,6,7,8,9,10,11,12,13,14,100};
float ReqTorqRows1[17] __attribute__ ((section ("RomHole_SpeedDensityTables"),aligned(4))) = 
{1000,2000,2600,3000,3400,3800,4200,4600,5000,5400,5800,6200,6600,7000,7400,7800,8200};
short ReqTorqData1[255] __attribute__ ((section ("RomHole_SpeedDensityTables"),aligned(4))) =
{16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384};

ThreeDTable ReqTorqTable1 __attribute__ ((section ("RomHole_SpeedDensityTables"),aligned(4))) = {
	.columnCount = 15,
	.rowCount = 17,
	.columnHeaderArray = ReqTorqCols1,
	.rowHeaderArray = ReqTorqRows1,
	.tableCells = ReqTorqData1,
	.tableType = UInt16Table3D,
	.multiplier = 0.0078125f,	
	.offset = 0 };	

///////////////
//Requested Torque Table 2
///////////////
ThreeDTable ReqTorqTable2 __attribute__ ((section ("RomHole_SpeedDensityTables"),aligned(4)));
float ReqTorqCols2[15] __attribute__ ((section ("RomHole_SpeedDensityTables"),aligned(4))) = 
{0,2,3,4,5,6,7,8,9,10,11,12,13,14,100};
float ReqTorqRows2[17] __attribute__ ((section ("RomHole_SpeedDensityTables"),aligned(4))) = 
{1000,2000,2600,3000,3400,3800,4200,4600,5000,5400,5800,6200,6600,7000,7400,7800,8200};
short ReqTorqData2[255] __attribute__ ((section ("RomHole_SpeedDensityTables"),aligned(4))) =
{16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384};

ThreeDTable ReqTorqTable2 __attribute__ ((section ("RomHole_SpeedDensityTables"),aligned(4))) = {
	.columnCount = 15,
	.rowCount = 17,
	.columnHeaderArray = ReqTorqCols2,
	.rowHeaderArray = ReqTorqRows2,
	.tableCells = ReqTorqData2,
	.tableType = UInt16Table3D,
	.multiplier = 0.0078125f,	
	.offset = 0 };	

///////////////
//Requested Torque Table 3
///////////////
ThreeDTable ReqTorqTable3 __attribute__ ((section ("RomHole_SpeedDensityTables"),aligned(4)));
float ReqTorqCols3[15] __attribute__ ((section ("RomHole_SpeedDensityTables"),aligned(4))) = 
{0,2,3,4,5,6,7,8,9,10,11,12,13,14,100};
float ReqTorqRows3[17] __attribute__ ((section ("RomHole_SpeedDensityTables"),aligned(4))) = 
{1000,2000,2600,3000,3400,3800,4200,4600,5000,5400,5800,6200,6600,7000,7400,7800,8200};
short ReqTorqData3[255] __attribute__ ((section ("RomHole_SpeedDensityTables"),aligned(4))) =
{16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,
16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384,16384};

ThreeDTable ReqTorqTable3 __attribute__ ((section ("RomHole_SpeedDensityTables"),aligned(4))) = {
	.columnCount = 15,
	.rowCount = 17,
	.columnHeaderArray = ReqTorqCols3,
	.rowHeaderArray = ReqTorqRows3,
	.tableCells = ReqTorqData3,
	.tableType = UInt16Table3D,
	.multiplier = 0.0078125f,	
	.offset = 0 };	
